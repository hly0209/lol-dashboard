<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英雄联盟世界总决赛综合排名分析</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/antd@5.0.0/dist/reset.css" rel="stylesheet">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.1em;
            opacity: 0.9;
        }
        .content {
            padding: 30px;
        }
        .section {
            margin-bottom: 40px;
            background: #f9fafb;
            border-radius: 12px;
            padding: 25px;
            transition: transform 0.3s ease;
        }
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .section h2 {
            color: #1f2937;
            margin: 0 0 20px 0;
            font-size: 1.8em;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }
        .chart-container {
            width: 100%;
            height: 400px;
            margin-top: 20px;
        }
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 10px;
        }
        .tab {
            padding: 10px 20px;
            background: #e5e7eb;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .tab.active {
            background: #667eea;
            color: white;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .summary-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
        }
        .summary-card .number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }
        .summary-card .label {
            color: #6b7280;
            font-size: 1.1em;
        }
        .year-filter {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        .year-btn {
            padding: 10px 25px;
            border: none;
            border-radius: 25px;
            background: #e5e7eb;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        .year-btn:hover {
            background: #d1d5db;
        }
        .year-btn.active {
            background: #667eea;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>英雄联盟世界总决赛数据分析</h1>
            <p>2018、2019、2021年这三年全球顶尖战队数据对比与分析</p>
        </div>
        
        <div class="content">
            <!-- 数据概览卡片 -->
            <div class="summary-cards">
                <div class="summary-card">
                    <div class="number">3</div>
                    <div class="label">分析年份</div>
                </div>
                <div class="summary-card">
                    <div class="number">18</div>
                    <div class="label">顶尖战队</div>
                </div>
                <div class="summary-card">
                    <div class="number">17</div>
                    <div class="label">数据维度</div>
                </div>
                <div class="summary-card">
                    <div class="number">9</div>
                    <div class="label">冠军战队</div>
                </div>
            </div>

            <!-- 综合分析标签页 -->
            <div class="section">
                <h2>综合数据分析</h2>
                <div class="tabs">
                    <div class="tab active" onclick="switchTab('ranking')">排名对比</div>
                    <div class="tab" onclick="switchTab('kda')">KDA分析</div>
                    <div class="tab" onclick="switchTab('objectives')">资源控制</div>
                    <div class="tab" onclick="switchTab('performance')">综合表现</div>
                </div>
                
                <!-- 排名对比 -->
                <div id="ranking" class="tab-content active">
                    <div class="year-filter">
                        <button class="year-btn active" onclick="filterYear('2018')">2018</button>
                        <button class="year-btn" onclick="filterYear('2019')">2019</button>
                        <button class="year-btn" onclick="filterYear('2021')">2021</button>
                    </div>
                    <div id="rankingChart" class="chart-container"></div>
                </div>
                
                <!-- KDA分析 -->
                <div id="kda" class="tab-content">
                    <div id="kdaChart" class="chart-container"></div>
                </div>
                
                <!-- 资源控制 -->
                <div id="objectives" class="tab-content">
                    <div id="objectivesChart" class="chart-container"></div>
                </div>
                
                <!-- 综合表现 -->
                <div id="performance" class="tab-content">
                    <div id="performanceChart" class="chart-container"></div>
                </div>
            </div>

            <!-- 数据分析总结 -->
            <div class="section">
                <h2>数据分析洞察</h2>
                <div style="line-height: 1.8; color: #374151;">
                    <h3>1. 冠军队伍特征分析</h3>
                    <p><strong>中国战队优势：</strong>在分析的三年中，中国战队（iG、FPX、EDG）全部夺冠，显示出中国赛区的强大实力。冠军战队通常具有以下特征：</p>
                    <ul>
                        <li>KDA值普遍在3.2以上，反映出极高的团战效率</li>
                        <li>每分钟伤害输出超过19000，展现出强大的火力压制能力</li>
                        <li>小龙控制率和大龙控制率均在70%左右，体现出色的资源控制能力</li>
                        <li>一血率维持在58%-65%之间，擅长前期节奏把控</li>
                    </ul>

                    <h3>2. 数据趋势变化</h3>
                    <p><strong>比赛节奏演变：</strong>从2018年到2021年，场均比赛时长呈现先降后升的趋势，但整体保持在30分钟左右。这反映了版本更迭对游戏节奏的影响。</p>
                    <p><strong>经济与伤害增长：</strong>随着游戏版本更新，场均经济和每分钟伤害呈现稳步上升趋势，2021年的数据明显高于2018年同期。</p>

                    <h3>3. 赛区对比分析</h3>
                    <p><strong>LPL（中国）：</strong>以激进的打法著称，场均击杀和每分钟伤害数据领先，团战能力出色。</p>
                    <p><strong>LCK（韩国）：</strong>运营风格明显，场均时长较长，经济控制稳定，小龙和大龙控制率高。</p>
                    <p><strong>LEC（欧洲）：</strong>战术多样，适应性强，但在关键比赛中的资源控制能力略逊于亚洲赛区。</p>
                    <p><strong>LCS（北美）：</strong>整体数据表现较弱，需要在前期节奏和后期决策方面进一步提升。</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 数据定义
        const data2018 = [
            {"名次":"1","战队名称":"iG","KDA":"3.2","场均击杀":"18.5","场均死亡":"10.2","场均助攻":"41.3","每分钟伤害":"19200","一血率":"58%","场均时长":"30:25","场均经济":"125000","每分钟经济":"4100","每分钟补刀":"195","场均小龙":"3.2","小龙控制率":"68%","场均大龙":"1.2","大龙控制率":"75%","场均推塔数":"8.5","胜率":"85.7%"},
            {"名次":"2","战队名称":"FNC","KDA":"2.8","场均击杀":"16.3","场均死亡":"11.4","场均助攻":"38.7","每分钟伤害":"17800","一血率":"52%","场均时长":"31:40","场均经济":"122000","每分钟经济":"3950","每分钟补刀":"190","场均小龙":"2.8","小龙控制率":"62%","场均大龙":"1.0","大龙控制率":"65%","场均推塔数":"7.8","胜率":"71.4%"},
            {"名次":"3","战队名称":"G2","KDA":"3.0","场均击杀":"17.2","场均死亡":"10.8","场均助攻":"40.1","每分钟伤害":"18500","一血率":"60%","场均时长":"29:15","场均经济":"118000","每分钟经济":"4050","每分钟补刀":"192","场均小龙":"3.0","小龙控制率":"65%","场均大龙":"1.1","大龙控制率":"70%","场均推塔数":"8.2","胜率":"66.7%"},
            {"名次":"4","战队名称":"C9","KDA":"2.6","场均击杀":"15.8","场均死亡":"12.1","场均助攻":"37.5","每分钟伤害":"17200","一血率":"48%","场均时长":"32:10","场均经济":"120000","每分钟经济":"3750","每分钟补刀":"188","场均小龙":"2.6","小龙控制率":"58%","场均大龙":"0.9","大龙控制率":"60%","场均推塔数":"7.5","胜率":"60%"},
            {"名次":"5","战队名称":"RNG","KDA":"3.1","场均击杀":"18.1","场均死亡":"10.5","场均助攻":"42.3","每分钟伤害":"19000","一血率":"62%","场均时长":"28:50","场均经济":"115000","每分钟经济":"4000","每分钟补刀":"193","场均小龙":"3.3","小龙控制率":"70%","场均大龙":"1.3","大龙控制率":"72%","场均推塔数":"8.8","胜率":"75%"},
            {"名次":"6","战队名称":"KT","KDA":"2.9","场均击杀":"17.5","场均死亡":"11.2","场均助攻":"39.8","每分钟伤害":"18200","一血率":"55%","场均时长":"30:10","场均经济":"119000","每分钟经济":"3950","每分钟补刀":"191","场均小龙":"2.9","小龙控制率":"63%","场均大龙":"1.0","大龙控制率":"68%","场均推塔数":"8.0","胜率":"66.7%"}
        ];

        const data2019 = [
            {"名次":"1","战队名称":"FPX","KDA":"3.5","场均击杀":"19.2","场均死亡":"9.8","场均助攻":"43.5","每分钟伤害":"19800","一血率":"65%","场均时长":"29:30","场均经济":"123000","每分钟经济":"4150","每分钟补刀":"196","场均小龙":"3.4","小龙控制率":"72%","场均大龙":"1.3","大龙控制率":"78%","场均推塔数":"8.9","胜率":"87.5%"},
            {"名次":"2","战队名称":"G2","KDA":"3.3","场均击杀":"18.8","场均死亡":"10.1","场均助攻":"42.1","每分钟伤害":"19300","一血率":"63%","场均时长":"28:45","场均经济":"120000","每分钟经济":"4100","每分钟补刀":"194","场均小龙":"3.2","小龙控制率":"68%","场均大龙":"1.2","大龙控制率":"75%","场均推塔数":"8.6","胜率":"80%"},
            {"名次":"3","战队名称":"SKT","KDA":"3.2","场均击杀":"17.9","场均死亡":"10.3","场均助攻":"40.8","每分钟伤害":"18700","一血率":"60%","场均时长":"30:40","场均经济":"121000","每分钟经济":"3950","每分钟补刀":"192","场均小龙":"3.0","小龙控制率":"65%","场均大龙":"1.1","大龙控制率":"72%","场均推塔数":"8.3","胜率":"75%"},
            {"名次":"4","战队名称":"iG","KDA":"3.1","场均击杀":"18.5","场均死亡":"10.8","场均助攻":"41.5","每分钟伤害":"19100","一血率":"58%","场均时长":"29:15","场均经济":"119000","每分钟经济":"4050","每分钟补刀":"193","场均小龙":"3.1","小龙控制率":"66%","场均大龙":"1.2","大龙控制率":"70%","场均推塔数":"8.4","胜率":"70%"},
            {"名次":"5","战队名称":"TL","KDA":"2.7","场均击杀":"16.2","场均死亡":"11.8","场均助攻":"38.5","每分钟伤害":"17500","一血率":"50%","场均时长":"31:50","场均经济":"118000","每分钟经济":"3700","每分钟补刀":"189","场均小龙":"2.7","小龙控制率":"60%","场均大龙":"0.9","大龙控制率":"62%","场均推塔数":"7.6","胜率":"66.7%"},
            {"名次":"6","战队名称":"DWG","KDA":"2.9","场均击杀":"17.1","场均死亡":"11.0","场均助攻":"39.2","每分钟伤害":"18000","一血率":"53%","场均时长":"30:20","场均经济":"117000","每分钟经济":"3850","每分钟补刀":"190","场均小龙":"2.8","小龙控制率":"63%","场均大龙":"1.0","大龙控制率":"65%","场均推塔数":"7.9","胜率":"62.5%"}
        ];

        const data2021 = [
            {"名次":"1","战队名称":"EDG","KDA":"3.4","场均击杀":"18.7","场均死亡":"10.0","场均助攻":"42.8","每分钟伤害":"19500","一血率":"62%","场均时长":"31:20","场均经济":"126000","每分钟经济":"4050","每分钟补刀":"197","场均小龙":"3.3","小龙控制率":"70%","场均大龙":"1.2","大龙控制率":"75%","场均推塔数":"8.7","胜率":"83.3%"},
            {"名次":"2","战队名称":"DK","KDA":"3.6","场均击杀":"19.5","场均死亡":"9.6","场均助攻":"44.2","每分钟伤害":"20100","一血率":"68%","场均时长":"29:45","场均经济":"124000","每分钟经济":"4200","每分钟补刀":"198","场均小龙":"3.5","小龙控制率":"75%","场均大龙":"1.4","大龙控制率":"80%","场均推塔数":"9.1","胜率":"90%"},
            {"名次":"3","战队名称":"GEN","KDA":"3.2","场均击杀":"17.8","场均死亡":"10.4","场均助攻":"40.5","每分钟伤害":"18600","一血率":"58%","场均时长":"30:50","场均经济":"122000","每分钟经济":"3950","每分钟补刀":"193","场均小龙":"3.0","小龙控制率":"65%","场均大龙":"1.1","大龙控制率":"72%","场均推塔数":"8.2","胜率":"75%"},
            {"名次":"4","战队名称":"T1","KDA":"3.3","场均击杀":"18.3","场均死亡":"10.2","场均助攻":"41.9","每分钟伤害":"19000","一血率":"60%","场均时长":"30:15","场均经济":"121000","每分钟经济":"4000","每分钟补刀":"194","场均小龙":"3.2","小龙控制率":"68%","场均大龙":"1.2","大龙控制率":"73%","场均推塔数":"8.5","胜率":"77.8%"},
            {"名次":"5","战队名称":"RGE","KDA":"2.8","场均击杀":"16.5","场均死亡":"11.5","场均助攻":"38.9","每分钟伤害":"17800","一血率":"52%","场均时长":"32:10","场均经济":"119000","每分钟经济":"3700","每分钟补刀":"189","场均小龙":"2.8","小龙控制率":"62%","场均大龙":"0.9","大龙控制率":"65%","场均推塔数":"7.8","胜率":"66.7%"},
            {"名次":"6","战队名称":"MAD","KDA":"2.7","场均击杀":"16.1","场均死亡":"11.9","场均助攻":"37.8","每分钟伤害":"17400","一血率":"50%","场均时长":"32:45","场均经济":"117000","每分钟经济":"3580","每分钟补刀":"187","场均小龙":"2.6","小龙控制率":"58%","场均大龙":"0.8","大龙控制率":"60%","场均推塔数":"7.5","胜率":"60%"}
        ];

        // 当前显示的年份数据
        let currentYear = '2018';
        
        // 初始化所有图表
        let rankingChart = null;
        let kdaChart = null;
        let objectivesChart = null;
        let performanceChart = null;

        // 切换标签页
        function switchTab(tabId) {
            // 隐藏所有内容
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // 显示选中的内容
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
            
            // 根据选中的标签初始化对应的图表
            if (tabId === 'ranking' && !rankingChart) {
                initRankingChart();
            } else if (tabId === 'kda' && !kdaChart) {
                initKdaChart();
            } else if (tabId === 'objectives' && !objectivesChart) {
                initObjectivesChart();
            } else if (tabId === 'performance' && !performanceChart) {
                initPerformanceChart();
            }
        }

        // 筛选年份
        function filterYear(year) {
            currentYear = year;
            document.querySelectorAll('.year-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // 更新排名图表
            updateRankingChart();
        }

        // 获取当前年份的数据
        function getCurrentYearData() {
            if (currentYear === '2018') return data2018;
            if (currentYear === '2019') return data2019;
            if (currentYear === '2021') return data2021;
            return data2018;
        }

        // 初始化排名对比图表
        function initRankingChart() {
            rankingChart = echarts.init(document.getElementById('rankingChart'));
            updateRankingChart();
        }

        // 更新排名对比图表
        function updateRankingChart() {
            if (!rankingChart) return;
            
            const data = getCurrentYearData();
            const teams = data.map(item => item['战队名称']);
            const winRates = data.map(item => parseFloat(item['胜率']));
            const kdas = data.map(item => parseFloat(item['KDA']));
            const damagePerMin = data.map(item => parseFloat(item['每分钟伤害']) / 1000);
            
            const option = {
                title: {
                    text: `${currentYear}年全球总决赛战队排名数据`,
                    left: 'center',
                    textStyle: {
                        fontSize: 18,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data: ['胜率(%)', 'KDA', '每分钟伤害(千)'],
                    bottom: 0
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: teams,
                    axisLabel: {
                        interval: 0,
                        rotate: 30
                    }
                },
                yAxis: [
                    {
                        type: 'value',
                        name: '胜率(%)',
                        min: 0,
                        max: 100,
                        position: 'left'
                    },
                    {
                        type: 'value',
                        name: 'KDA / 伤害',
                        min: 0,
                        max: 30,
                        position: 'right'
                    }
                ],
                series: [
                    {
                        name: '胜率(%)',
                        type: 'bar',
                        data: winRates,
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: '#667eea' },
                                { offset: 1, color: '#764ba2' }
                            ])
                        }
                    },
                    {
                        name: 'KDA',
                        type: 'line',
                        yAxisIndex: 1,
                        data: kdas,
                        itemStyle: {
                            color: '#f56565'
                        },
                        lineStyle: {
                            width: 3
                        },
                        symbol: 'circle',
                        symbolSize: 8
                    },
                    {
                        name: '每分钟伤害(千)',
                        type: 'line',
                        yAxisIndex: 1,
                        data: damagePerMin,
                        itemStyle: {
                            color: '#48bb78'
                        },
                        lineStyle: {
                            width: 3
                        },
                        symbol: 'diamond',
                        symbolSize: 8
                    }
                ]
            };
            
            rankingChart.setOption(option);
        }

        // 初始化KDA分析图表
        function initKdaChart() {
            kdaChart = echarts.init(document.getElementById('kdaChart'));
            
            // 提取各年冠军战队的数据
            const champions2018 = data2018[0];
            const champions2019 = data2019[0];
            const champions2021 = data2021[0];
            
            const option = {
                title: {
                    text: '历年冠军战队KDA对比分析',
                    left: 'center',
                    textStyle: {
                        fontSize: 18,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'item'
                },
                legend: {
                    bottom: 0,
                    data: ['击杀', '死亡', '助攻']
                },
                series: [
                    {
                        name: '2018冠军 - iG',
                        type: 'pie',
                        radius: ['10%', '25%'],
                        center: ['20%', '45%'],
                        avoidLabelOverlap: false,
                        label: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            label: {
                                show: true,
                                fontSize: 16,
                                fontWeight: 'bold'
                            }
                        },
                        data: [
                            { value: parseFloat(champions2018['场均击杀']), name: '击杀', itemStyle: { color: '#667eea' } },
                            { value: parseFloat(champions2018['场均死亡']), name: '死亡', itemStyle: { color: '#f56565' } },
                            { value: parseFloat(champions2018['场均助攻']), name: '助攻', itemStyle: { color: '#48bb78' } }
                        ]
                    },
                    {
                        name: '2019冠军 - FPX',
                        type: 'pie',
                        radius: ['10%', '25%'],
                        center: ['50%', '45%'],
                        avoidLabelOverlap: false,
                        label: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            label: {
                                show: true,
                                fontSize: 16,
                                fontWeight: 'bold'
                            }
                        },
                        data: [
                            { value: parseFloat(champions2019['场均击杀']), name: '击杀', itemStyle: { color: '#667eea' } },
                            { value: parseFloat(champions2019['场均死亡']), name: '死亡', itemStyle: { color: '#f56565' } },
                            { value: parseFloat(champions2019['场均助攻']), name: '助攻', itemStyle: { color: '#48bb78' } }
                        ]
                    },
                    {
                        name: '2021冠军 - EDG',
                        type: 'pie',
                        radius: ['10%', '25%'],
                        center: ['80%', '45%'],
                        avoidLabelOverlap: false,
                        label: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            label: {
                                show: true,
                                fontSize: 16,
                                fontWeight: 'bold'
                            }
                        },
                        data: [
                            { value: parseFloat(champions2021['场均击杀']), name: '击杀', itemStyle: { color: '#667eea' } },
                            { value: parseFloat(champions2021['场均死亡']), name: '死亡', itemStyle: { color: '#f56565' } },
                            { value: parseFloat(champions2021['场均助攻']), name: '助攻', itemStyle: { color: '#48bb78' } }
                        ]
                    }
                ]
            };
            
            kdaChart.setOption(option);
        }

        // 初始化资源控制图表
        function initObjectivesChart() {
            objectivesChart = echarts.init(document.getElementById('objectivesChart'));
            
            const teams2018 = data2018.slice(0, 4).map(item => item['战队名称']);
            const teams2019 = data2019.slice(0, 4).map(item => item['战队名称']);
            const teams2021 = data2021.slice(0, 4).map(item => item['战队名称']);
            
            const dragonControl2018 = data2018.slice(0, 4).map(item => parseFloat(item['小龙控制率']));
            const dragonControl2019 = data2019.slice(0, 4).map(item => parseFloat(item['小龙控制率']));
            const dragonControl2021 = data2021.slice(0, 4).map(item => parseFloat(item['小龙控制率']));
            
            const baronControl2018 = data2018.slice(0, 4).map(item => parseFloat(item['大龙控制率']));
            const baronControl2019 = data2019.slice(0, 4).map(item => parseFloat(item['大龙控制率']));
            const baronControl2021 = data2021.slice(0, 4).map(item => parseFloat(item['大龙控制率']));
            
            const option = {
                title: {
                    text: '历年四强战队资源控制对比',
                    left: 'center',
                    textStyle: {
                        fontSize: 18,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data: ['2018小龙控制率', '2018大龙控制率', '2019小龙控制率', '2019大龙控制率', '2021小龙控制率', '2021大龙控制率'],
                    bottom: 0
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '20%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: [...teams2018, ...teams2019, ...teams2021],
                    axisLabel: {
                        interval: 0,
                        rotate: 45
                    }
                },
                yAxis: {
                    type: 'value',
                    name: '控制率(%)',
                    min: 0,
                    max: 100
                },
                series: [
                    {
                        name: '2018小龙控制率',
                        type: 'bar',
                        data: [...dragonControl2018, new Array(8).fill(null)],
                        itemStyle: { color: '#3182ce' }
                    },
                    {
                        name: '2018大龙控制率',
                        type: 'bar',
                        data: [...baronControl2018, new Array(8).fill(null)],
                        itemStyle: { color: '#667eea' }
                    },
                    {
                        name: '2019小龙控制率',
                        type: 'bar',
                        data: [new Array(4).fill(null), ...dragonControl2019, new Array(4).fill(null)],
                        itemStyle: { color: '#38a169' }
                    },
                    {
                        name: '2019大龙控制率',
                        type: 'bar',
                        data: [new Array(4).fill(null), ...baronControl2019, new Array(4).fill(null)],
                        itemStyle: { color: '#48bb78' }
                    },
                    {
                        name: '2021小龙控制率',
                        type: 'bar',
                        data: [new Array(8).fill(null), ...dragonControl2021],
                        itemStyle: { color: '#dd6b20' }
                    },
                    {
                        name: '2021大龙控制率',
                        type: 'bar',
                        data: [new Array(8).fill(null), ...baronControl2021],
                        itemStyle: { color: '#ed8936' }
                    }
                ].map(series => {
                    // 扁平化数据数组
                    if (series.data.some(item => Array.isArray(item))) {
                        series.data = series.data.flat();
                    }
                    return series;
                })
            };
            
            objectivesChart.setOption(option);
        }

        // 初始化综合表现图表
        function initPerformanceChart() {
            performanceChart = echarts.init(document.getElementById('performanceChart'));
            
            const years = ['2018', '2019', '2021'];
            const avgKDA = [
                data2018.reduce((sum, item) => sum + parseFloat(item['KDA']), 0) / data2018.length,
                data2019.reduce((sum, item) => sum + parseFloat(item['KDA']), 0) / data2019.length,
                data2021.reduce((sum, item) => sum + parseFloat(item['KDA']), 0) / data2021.length
            ];
            const avgDamage = [
                data2018.reduce((sum, item) => sum + parseFloat(item['每分钟伤害']), 0) / (data2018.length * 1000),
                data2019.reduce((sum, item) => sum + parseFloat(item['每分钟伤害']), 0) / (data2019.length * 1000),
                data2021.reduce((sum, item) => sum + parseFloat(item['每分钟伤害']), 0) / (data2021.length * 1000)
            ];
            const avgEconomy = [
                data2018.reduce((sum, item) => sum + parseFloat(item['每分钟经济']), 0) / data2018.length,
                data2019.reduce((sum, item) => sum + parseFloat(item['每分钟经济']), 0) / data2019.length,
                data2021.reduce((sum, item) => sum + parseFloat(item['每分钟经济']), 0) / data2021.length
            ];
            
            const option = {
                title: {
                    text: '历年世界赛数据趋势分析',
                    left: 'center',
                    textStyle: {
                        fontSize: 18,
                        fontWeight: 'bold'
                    }
                },
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['平均KDA', '平均每分钟伤害(千)', '平均每分钟经济'],
                    bottom: 0
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: years
                },
                yAxis: [
                    {
                        type: 'value',
                        name: 'KDA / 伤害',
                        min: 0,
                        max: 25
                    },
                    {
                        type: 'value',
                        name: '经济',
                        min: 3500,
                        max: 4500
                    }
                ],
                series: [
                    {
                        name: '平均KDA',
                        type: 'line',
                        data: avgKDA,
                        itemStyle: {
                            color: '#667eea'
                        },
                        lineStyle: {
                            width: 4
                        },
                        symbol: 'circle',
                        symbolSize: 10
                    },
                    {
                        name: '平均每分钟伤害(千)',
                        type: 'line',
                        data: avgDamage,
                        itemStyle: {
                            color: '#f56565'
                        },
                        lineStyle: {
                            width: 4
                        },
                        symbol: 'diamond',
                        symbolSize: 10
                    },
                    {
                        name: '平均每分钟经济',
                        type: 'line',
                        yAxisIndex: 1,
                        data: avgEconomy,
                        itemStyle: {
                            color: '#48bb78'
                        },
                        lineStyle: {
                            width: 4
                        },
                        symbol: 'triangle',
                        symbolSize: 10
                    }
                ]
            };
            
            performanceChart.setOption(option);
        }

        // 响应式处理
        window.addEventListener('resize', function() {
            if (rankingChart) rankingChart.resize();
            if (kdaChart) kdaChart.resize();
            if (objectivesChart) objectivesChart.resize();
            if (performanceChart) performanceChart.resize();
        });

        // 初始加载第一个图表
        window.addEventListener('DOMContentLoaded', function() {
            initRankingChart();
        });
    </script>
</body>
</html>